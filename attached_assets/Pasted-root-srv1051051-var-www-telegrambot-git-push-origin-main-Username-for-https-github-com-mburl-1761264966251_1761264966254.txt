root@srv1051051:/var/www/telegrambot# git push origin main
Username for 'https://github.com': mburlufung-del
Password for 'https://mburlufung-del@github.com': 
remote: Invalid username or token. Password authentication is not supported for Git operations.
fatal: Authentication failed for 'https://github.com/mburlufung-del/telegrambot.git/'
root@srv1051051:/var/www/telegrambot# git pull origin main
remote: Enumerating objects: 35, done.
remote: Counting objects: 100% (35/35), done.
remote: Compressing objects: 100% (7/7), done.
remote: Total 30 (delta 23), reused 30 (delta 23), pack-reused 0 (from 0)
Unpacking objects: 100% (30/30), 25.22 KiB | 2.29 MiB/s, done.
From https://github.com/mburlufung-del/telegrambot
 * branch            main       -> FETCH_HEAD
   d20c258..91908b8  main       -> origin/main
hint: You have divergent branches and need to specify how to reconcile them.
hint: You can do so by running one of the following commands sometime before
hint: your next pull:
hint: 
hint:   git config pull.rebase false  # merge
hint:   git config pull.rebase true   # rebase
hint:   git config pull.ff only       # fast-forward only
hint: 
hint: You can replace "git config" with "git config --global" to set a default
hint: preference for all repositories. You can also pass --rebase, --no-rebase,
hint: or --ff-only on the command line to override the configured default per
hint: invocation.
fatal: Need to specify how to reconcile divergent branches.
root@srv1051051:/var/www/telegrambot# docker-compose up -d --build
WARN[0000] The "BOT4_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT8_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT10_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT5_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT6_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT7_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT9_TOKEN" variable is not set. Defaulting to a blank string. 
[+] Building 1.1s (51/83)                                                                               docker:default
 => [bot10 internal] load build definition from Dockerfile                                                        0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot4 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot9 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot5 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot2 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot7 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot6 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot3 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot1 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot8 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot7 internal] load metadata for docker.io/library/node:20-alpine                                            0.7s
 => [bot9 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot6 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot4 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot1 internal] load .dockerignore                                                                            0.1s
 => => transferring context: 295B                                                                                 0.1s
 => [bot7 internal] load .dockerignore                                                                            0.1s
 => => transferring context: 295B                                                                                 0.1s
 => [bot3 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot5 internal] load .dockerignore                                                                            0.1s
 => => transferring context: 295B                                                                                 0.1s
 => [bot10 internal] load .dockerignore                                                                           0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot8 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot2 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot5 1/6] FROM docker.io/library/node:20-alpine@sha256:6178e78b972f79c335df281f4b7674a2d85071aae2af020ffa39  0.0s
 => [bot9 internal] load build context                                                                            0.2s
 => => transferring context: 767.46kB                                                                             0.2s
 => [bot2 internal] load build context                                                                            0.1s
 => => transferring context: 38.45kB                                                                              0.1s
 => [bot3 internal] load build context                                                                            0.2s
 => => transferring context: 767.46kB                                                                             0.2s
 => [bot8 internal] load build context                                                                            0.2s
 => => transferring context: 767.46kB                                                                             0.2s
 => [bot6 internal] load build context                                                                            0.2s
 => => transferring context: 767.46kB                                                                             0.1s
 => [bot4 internal] load build context                                                                            0.2s
 => => transferring context: 767.46kB                                                                             0.1s
 => [bot10 internal] load build context                                                                           0.1s
 => => transferring context: 767.46kB                                                                             0.1s
 => CACHED [bot8 2/6] WORKDIR /app                                                                                0.0s
 => CACHED [bot2 3/6] COPY package*.json ./                                                                       0.0s
 => CACHED [bot2 4/6] RUN npm install                                                                             0.0s
 => CACHED [bot2 5/6] COPY . .                                                                                    0.0s
 => CACHED [bot2 6/6] RUN npm run build                                                                           0.0s
 => [bot2] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:5ea191c01eb87e5071643681563746f8d55169f361013f4f4897dfc5727b5b7a                      0.0s
 => => naming to docker.io/library/telegrambot-bot2                                                               0.0s
 => [bot1 internal] load build context                                                                            0.1s
 => => transferring context: 767.46kB                                                                             0.1s
 => [bot7 internal] load build context                                                                            0.1s
 => => transferring context: 767.46kB                                                                             0.1s
 => [bot5 internal] load build context                                                                            0.0s
 => => transferring context: 38.45kB                                                                              0.0s
 => CACHED [bot8 3/6] COPY package*.json ./                                                                       0.0s
 => CACHED [bot8 4/6] RUN npm install                                                                             0.0s
 => CACHED [bot8 5/6] COPY . .                                                                                    0.0s
 => CACHED [bot1 6/6] RUN npm run build                                                                           0.0s
 => [bot8] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:17c2008f28d37df7e7d4f5d5fd5c0e89abaa2b8fc1c9c0d0e8f75c54f493bf2b                      0.0s
 => => naming to docker.io/library/telegrambot-bot8                                                               0.0s
 => [bot10] exporting to image                                                                                    0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:44719829b72f7a4a2ad6c8d6ea5795c91749cb710d9133577f7794148f184f29                      0.0s
 => => naming to docker.io/library/telegrambot-bot10                                                              0.0s
 => [bot5] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:564fd9d9b1be99f75ef913eeab8500262cb8eb3d30d05ca5d2d9975a4e46bdd1                      0.0s
 => => naming to docker.io/library/telegrambot-bot5                                                               0.0s
 => [bot3] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:dd709c0fe671403808e4389f449255ac9cee4c444ee8d67b5af3a63f4ea50e1d                      0.0s
 => => naming to docker.io/library/telegrambot-bot3                                                               0.0s
 => [bot6] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:834e094f25aadfd0a2e48c921a41cbf0a2958a752bdcc6f48e57913074ffa35f                      0.0s
 => => naming to docker.io/library/telegrambot-bot6                                                               0.0s
 => [bot7] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:591e6c92a083a52dce418dcb0f758c05c4b960c3322a435a7575a22359e1ffdb                      0.0s
 => => naming to docker.io/library/telegrambot-bot7                                                               0.0s
 => [bot1] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:e3ff4fb6b3f88e85c5f4ac80d1954bfc5f2c29378588518f54ae96755d2d1040                      0.0s
 => => naming to docker.io/library/telegrambot-bot1                                                               0.0s
 => [bot9] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:bc69863562af04c8f0996eb3e690d168849c15572bfc9c775f7361f23d6a098b                      0.0s
 => => naming to docker.io/library/telegrambot-bot9                                                               0.0s
 => [bot4] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:abf3f61e9a272f429da691176ec04b26fe4792431d8cd220ef87de52085b4334                      0.0s
 => => naming to docker.io/library/telegrambot-bot4                                                               0.0s
[+] Running 11/11
 ✔ Container telegrambot-postgres-1  Healthy                                                                      0.0s 
 ✔ Container telegrambot-bot5-1      Started                                                                      1.5s 
 ✔ Container telegrambot-bot6-1      Started                                                                      1.5s 
 ✔ Container telegrambot-bot1-1      Started                                                                      1.5s 
 ✔ Container telegrambot-bot2-1      Running                                                                      0.0s 
 ✔ Container telegrambot-bot4-1      Started                                                                      1.6s 
 ✔ Container telegrambot-bot9-1      Started                                                                      1.4s 
 ✔ Container telegrambot-bot8-1      Started                                                                      1.2s 
 ✔ Container telegrambot-bot7-1      Started                                                                      1.3s 
 ✔ Container telegrambot-bot10-1     Started                                                                      1.4s 
 ✔ Container telegrambot-bot3-1      Started                                                                      1.5s 
root@srv1051051:/var/www/telegrambot# docker-compose up -d --build bot1 bot2 bot3
WARN[0000] The "BOT5_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT6_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT7_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT8_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT9_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT10_TOKEN" variable is not set. Defaulting to a blank string. 
WARN[0000] The "BOT4_TOKEN" variable is not set. Defaulting to a blank string. 
[+] Building 0.5s (19/27)                                                                               docker:default
 => [bot2 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot1 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot3 internal] load build definition from Dockerfile                                                         0.0s
 => => transferring dockerfile: 390B                                                                              0.0s
 => [bot2 internal] load metadata for docker.io/library/node:20-alpine                                            0.3s
 => [bot1 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot3 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot2 internal] load .dockerignore                                                                            0.0s
 => => transferring context: 295B                                                                                 0.0s
 => [bot2 1/6] FROM docker.io/library/node:20-alpine@sha256:6178e78b972f79c335df281f4b7674a2d85071aae2af020ffa39  0.0s
 => [bot1 internal] load build context                                                                            0.0s
 => => transferring context: 38.45kB                                                                              0.0s
 => [bot3 internal] load build context                                                                            0.0s
 => => transferring context: 38.45kB                                                                              0.0s
 => [bot2 internal] load build context                                                                            0.0s
 => => transferring context: 38.45kB                                                                              0.0s
 => CACHED [bot1 2/6] WORKDIR /app                                                                                0.0s
 => CACHED [bot1 3/6] COPY package*.json ./                                                                       0.0s
 => CACHED [bot1 4/6] RUN npm install                                                                             0.0s
 => CACHED [bot1 5/6] COPY . .                                                                                    0.0s
 => CACHED [bot3 6/6] RUN npm run build                                                                           0.0s
 => [bot1] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:e3ff4fb6b3f88e85c5f4ac80d1954bfc5f2c29378588518f54ae96755d2d1040                      0.0s
 => => naming to docker.io/library/telegrambot-bot1                                                               0.0s
 => [bot3] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:dd709c0fe671403808e4389f449255ac9cee4c444ee8d67b5af3a63f4ea50e1d                      0.0s
 => => naming to docker.io/library/telegrambot-bot3                                                               0.0s
 => [bot2] exporting to image                                                                                     0.0s
 => => exporting layers                                                                                           0.0s
 => => writing image sha256:5ea191c01eb87e5071643681563746f8d55169f361013f4f4897dfc5727b5b7a                      0.0s
 => => naming to docker.io/library/telegrambot-bot2                                                               0.0s
[+] Running 4/4
 ✔ Container telegrambot-postgres-1  Healthy                                                                      0.0s 
 ✔ Container telegrambot-bot2-1      Running                                                                      0.0s 
 ✔ Container telegrambot-bot3-1      Running                                                                      0.0s 
 ✔ Container telegrambot-bot1-1      Running                                                                      0.0s 
root@srv1051051:/var/www/telegrambot# docker logs telegrambot-bot1-1 --tail 50
docker logs telegrambot-bot2-1 --tail 50
npm warn config optional Use `--omit=optional` to exclude optional dependencies, or
npm warn config `--include=optional` to include them.
npm warn config
npm warn config       Default value does install optional deps unless otherwise omitted.

> workspace@1.0.0 start
> NODE_ENV=production tsx server/index.ts

✅ Initializing storage for Bot ID: 8380884541
08:14:41 PM [express] 🔧 Setting up API routes...
08:14:42 PM [express] ✅ API routes registered
08:14:42 PM [express] 🔧 Setting up static file serving...
08:14:42 PM [express] ✅ Static file serving configured
08:14:42 PM [express] 🚀 Server started on port 5000
08:14:42 PM [express] ✅ Health check available at / and /health
08:14:42 PM [express] 🖥️  Admin dashboard ready
08:14:42 PM [express] 🔍 Bot initialization starting in background...
Cleared webhook
08:14:52 PM [express] ❌ Bot initialization failed: Bot initialization timeout
08:14:52 PM [express] 🔄 Server continues running with admin dashboard only
08:14:53 PM [express] 🚀 Telegram bot initialized and running
  username: 'terry2237',
  firstName: 'Terry',
  lastName: null,
  lastSeen: 2025-10-23T23:56:19.290Z
}
[INSTANT-VANISH] Cleared previous messages and sent new message 189 for user 5394510012
[USER TRACKING] User 5394510012 tracked: {
  chatId: '5394510012',
  username: 'terry2237',
  firstName: 'Terry',
  lastName: null,
  lastSeen: 2025-10-23T23:56:22.864Z
}
[INSTANT-VANISH] Cleared previous message 189 for user 5394510012
Attempting to send product image: product-65bac3fff259
Sending image buffer to Telegram (94565 bytes)
(node:29) [node-telegram-bot-api] DeprecationWarning: Buffers will have their filenames default to "filename" instead of "data". See https://github.com/yagop/node-telegram-bot-api/blob/master/doc/usage.md#sending-files for more information on how sending files has been improved and on how to disable this deprecation message altogether.
(Use `node --trace-deprecation ...` to show where the warning was created)
[INSTANT-VANISH] Tracked product image message 190 for user 5394510012
[INSTANT-VANISH] Tracked product details message 191 for user 5394510012
Received product data: {
  "name": "dpDMC (N-Dipropyl-Dimethocaine)",
  "description": "dpDMC (N-Dipropyl-Dimethocaine) Powder\n\ndpDMC (N-Dipropyl-Dimethocaine) Powder is intended for laboratory use only. This product is intended for research use only and is not intended for human consumption or medical use.\nChemical category\n\nDimethocaine derivative\nProperties\n\n    Fine powder that can be evenly distributed in the lab\n    Consistent batch for reproducible research\n    Suitable for qualitative and quantitative analysis\n\nSpecifications\n\n    Substance name: dpDMC (N-Dipropyl-Dimethocaine)\n    Form: powder\n    Application: For research and analysis only\n    Salt type and batch data: according to label or product specification\n\nUse in the lab\n\nUse only by authorized personnel in a suitable testing area. Use calibrated equipment. Record batch, date, and quantity in the logbook for traceability.\n\n From 2+ €20.75\nFrom 5+ €19.75\nFrom 10+ €18.25\nFrom 25+ €16.25\nFrom 50+ €15.75\nFrom 100+ €14.25",
  "price": 22.75,
  "currencyCode": "EUR",
  "stock": 1000,
  "unit": "gram",
  "categoryId": "d84d837a-5e1f-4c25-9614-5a9a4ec24a88",
  "minOrderQuantity": 1,
  "imageUrl": "/api/images/product-ae95dcfcd70d",
  "isActive": true
}
Final product data with defaults: {
  "name": "dpDMC (N-Dipropyl-Dimethocaine)",
  "description": "dpDMC (N-Dipropyl-Dimethocaine) Powder\n\ndpDMC (N-Dipropyl-Dimethocaine) Powder is intended for laboratory use only. This product is intended for research use only and is not intended for human consumption or medical use.\nChemical category\n\nDimethocaine derivative\nProperties\n\n    Fine powder that can be evenly distributed in the lab\n    Consistent batch for reproducible research\n    Suitable for qualitative and quantitative analysis\n\nSpecifications\n\n    Substance name: dpDMC (N-Dipropyl-Dimethocaine)\n    Form: powder\n    Application: For research and analysis only\n    Salt type and batch data: according to label or product specification\n\nUse in the lab\n\nUse only by authorized personnel in a suitable testing area. Use calibrated equipment. Record batch, date, and quantity in the logbook for traceability.\n\n From 2+ €20.75\nFrom 5+ €19.75\nFrom 10+ €18.25\nFrom 25+ €16.25\nFrom 50+ €15.75\nFrom 100+ €14.25",
  "price": "22.75",
  "currencyCode": "EUR",
  "stock": 1000,
  "minOrderQuantity": 1,
  "unit": "gram",
  "imageUrl": "/api/images/product-ae95dcfcd70d",
  "categoryId": "d84d837a-5e1f-4c25-9614-5a9a4ec24a88",
  "isActive": true,
  "compareAtPrice": null
}
Product created successfully: 0ce1e089-3cdc-4bcc-b401-7d1b52bc6f8a
Sending success response to frontend
Success response sent
Stored image with ID: product-5edc646deb41 Size: 22096 Type: image/webp
Served actual uploaded image: product-5edc646deb41 Size: 22096
root@srv1051051:/var/www/telegrambot# 